function GetQueryString(e){var r=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(r);return null!=t?decodeURI(t[2]):null}function search(){for(var e=GetQueryString("keyword"),r=[],t=0,a=dataSearch.length;a>t;t++)(-1!=dataSearch[t].title.indexOf(e)||-1!=dataSearch[t].content.indexOf(e))&&r.push(dataSearch[t]);return r}function renderList(){for(var e,r,t=document.querySelector(".search-result"),a="",n=search(),l=GetQueryString("keyword"),c=0,s=n.length;s>c;c++)r=getImg(n[c].content),e=r?'<img src="'+r+'" width="100" class="fl search-pic">':"",a+='<ul class="underline">               <li class="search-result-li">               		<a href="'+n[c].url+'" class="color-00f fw">'+highlight(n[c].title,l)+'</a>               		<div class="oh">               			'+e+"               			<span>"+getSummary(n[c].content,l)+"</span>               		</div>               </li>			</ul>";t.innerHTML=a}function highlight(e,r){var t=new RegExp(r,"g");return-1!=e.indexOf(r)?e.replace(t,'<span class="search-result-keyword">'+r+"</span>"):e}function getSummary(e,r){{var t,a="[。,！,？]*([^。,！,？]*"+r+")",n=new RegExp(a);e.replace(n,function(){var a=50-arguments[1].length,n=e.split(arguments[1]);if(n[1].length>a){var l=n[1].substr(0,a),c=arguments[1].replace(r,"<span>"+r+"</span>")+l+"...";t=c}else t=e})}return t=t?highlight(t,r):e.length>50?e.substr(0,50)+"...":e,t=delHtml(t)}function getImg(e){var r=/([^\/]+)\.jpg/,t=e.match(r);return t?"/img/"+t[1]+".jpg":!1}function delHtml(e){var r=/&lt;\/[a-z]*&gt;|&lt;[a-z]*&gt;/,t=e.replace(r,"");return t}dataSearch=dataSearch.replace(/\s/g,""),dataSearch=JSON.parse(dataSearch),renderList();